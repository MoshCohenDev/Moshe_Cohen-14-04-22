(this["webpackJsonpwhether-app"]=this["webpackJsonpwhether-app"]||[]).push([[0],{140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(31),s=a.n(c),i=a(17),o=a(70),u=a(20),l=a(15),d=a.n(l),j=a(21);function b(e,t){return{type:e,payload:t}}var f=a(215),p=a(211),h=a(217),x=a(1);var O=function(e){var t=e.data,a=Object(i.c)((function(e){return e})),r=a.state.darkMode;return Object(x.jsxs)(f.a,{style:r?{backgroundColor:"white",maxWidth:400,padding:2,height:"100%",textAlign:"left",borderRadius:20}:{backgroundColor:"rgba(0, 0, 0, 0.746)",maxWidth:400,padding:2,color:"white",height:"100%",textAlign:"left",marginLeft:"5px",borderRadius:20},children:[Object(x.jsx)(p.a,{className:"font-bold text-base",title:t.dayWeeks}),Object(x.jsx)(p.a,{className:"font-bold text-base",title:t.date,children:t.month}),Object(x.jsxs)(h.a,{className:"font-bold text-xl text-center",children:["min :",t.min," C"]}),Object(x.jsxs)(h.a,{className:"font-bold text-xl text-center",children:["max :",t.max," C"]}),Object(x.jsx)("div",{className:"flex justify-center",children:Object(x.jsx)("img",{className:"animate-pulse",src:"https://developer.accuweather.com/sites/default/files/".concat(t.day.Icon,"-s.png")})})]})};var v=function(){var e=Object(i.c)((function(e){return e})),t=e.state;return Object(x.jsx)("div",{className:"flex mt-10 mb-40 justify-evenly",children:t.daysForecast&&t.daysForecast.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(O,{data:e})},e.date)}))})},m=a(24),y=a(19),g=a(14),k=a(207),T=a(208),w="K7FyZGsQZ3hGAaPllaoQfUH8HAc7BmSb",C="https://dataservice.accuweather.com/";function E(e){return N.apply(this,arguments)}function N(){return(N=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(C,"locations/v1/cities/autocomplete?apikey=").concat(w,"&q=").concat(t));case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(e){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.latitude,r=t.longitude,e.prev=1,e.next=4,fetch("".concat(C,"locations/v1/cities/geoposition/search?apikey=").concat(w,"&q=").concat(a,"%2C").concat(r));case 4:return n=e.sent,e.abrupt("return",n.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(C,"currentconditions/v1/").concat(t,"?apikey=").concat(w));case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(C,"forecasts/v1/daily/5day/").concat(t,"?apikey=").concat(w,"&metric=true"));case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var F=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,t){return navigator.geolocation.getCurrentPosition(e,t)}));case 3:return t=e.sent,a=t.coords,r=a.latitude,n=a.longitude,e.next=9,_({latitude:r,longitude:n});case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),D=a(105);function M(e){return V.apply(this,arguments)}function V(){return(V=Object(j.a)(d.a.mark((function e(t){var a,r,n,c,s,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.days,r=t.name,n=t.key,c=a.DailyForecasts,s=[],i={},o=Object(D.a)(c);try{for(o.s();!(u=o.n()).done;)l=u.value,i.name=r,i.key=n,i.max=l.Temperature.Maximum.Value,i.min=l.Temperature.Minimum.Value,i.date=new Date(l.Date).getDate(),i.month=new Date(l.Date).getMonth()+1,i.dayWeeks=new Date(l.Date).toUTCString().substring(0,3),i.day=l.Day,i.night=l.Night,i.WeatherTextWeek=a.Headline.Text,s.push(i),i={}}catch(d){o.e(d)}finally{o.f()}return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return z.apply(this,arguments)}function z(){return(z=Object(j.a)(d.a.mark((function e(t){var a,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return(n=e.sent)?(a=n.Key,r=n.AdministrativeArea.LocalizedName):(a=t.Key,r=t.name),e.next=6,H(a,r);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var r,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return r=e.sent,e.next=6,A(t);case 6:return n=e.sent,c={Key:t,name:a,isFavorite:!1,currentConditions:n[0]},e.next=10,M({days:r,name:a,key:t});case 10:return s=e.sent,e.abrupt("return",{daysForecast:s,currentWeather:c});case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r.useState)([]),t=Object(g.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(g.a)(c,2),o=(s[0],s[1]),u=Object(i.b)(),l=Object(i.c)((function(e){return e})),f=l.state.darkMode,p=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""==t.target.value||t.target.value===typeof number?(o(!0),n([])):(o(!1),a=E(t.target.value),r=a.data.map((function(e){return{label:e.LocalizedName,key:e.Key}})),n(Object(y.a)(r)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n,c,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return r=a.filter((function(e){return e.label==t})),n=r[0].key,c=r[0].label,e.next=7,K({name:c,Key:n});case 7:return s=e.sent,i=s.daysForecast,o=s.currentWeather,u(b("SET_CURRENT_CITY_AND_CONDITION",o)),u(b("SET_IS_FAVORITE",!1)),u(b("SET_DAYS_FORECAST",i)),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:" text-center mt-10 flex-col",children:Object(x.jsx)(k.a,{disablePortal:!0,style:f?{backgroundColor:"white",display:"inline-block",width:500}:{backgroundColor:"rgba(0, 0, 0, 0.746)",minWidth:550,display:"inline-block"},options:a,onChange:function(e){h(e.target.textContent)},renderInput:function(e){return Object(x.jsx)(T.a,Object(m.a)(Object(m.a)({},e),{},{onChange:function(e){return p(e)},variant:"outlined",label:"Search city english  only"}))}})})},P=a(210),U=a(218),B=a(219),L=a(50),q=a.n(L);function G(e){var t=e.data,a=Object(r.useState)(!1),n=Object(g.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(!0),u=Object(g.a)(o,2),l=u[0],O=u[1],v=Object(i.b)(),y=Object(i.c)((function(e){return e})),k=y.state,T=k.favoriteWeathers,w=k.isFavorite,C=k.darkMode,E=t.currentConditions,N=t.name,_=E.Temperature,S=E.WeatherText,A=E.WeatherIcon,I=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isFavorite=!0,v(b("SET_IS_FAVORITE",!0)),v(b("ADD_TO_FAVORITE_WEATHER",Object(m.a)({},t)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(f.a,{sx:{width:"100%",padding:4,textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:10},style:C?{}:{backgroundColor:"rgba(0, 0, 0, 0.746)",color:"white"},children:[Object(x.jsxs)("div",{className:"flex justify-between",children:[Object(x.jsx)(p.a,{className:"font-bold text-base",title:N,subheader:S}),Object(x.jsx)("div",{className:"mt-2",children:w?Object(x.jsx)(U.a,{onClick:function(){return function(e){var t=T.filter((function(t){return t.Key!==e.Key}));v(b("REMOVE_FAVORITE_WEATHER",t)),v(b("SET_IS_FAVORITE",!1))}(t)},"aria-label":"add to favorites",children:Object(x.jsx)(q.a,{sx:{color:"red",fontSize:"2rem"}})}):Object(x.jsx)(U.a,{onClick:function(){return I(t)},"aria-label":"add to favorites",children:Object(x.jsx)(q.a,{sx:{fontSize:"2rem",color:"white"}})})})]}),Object(x.jsxs)(h.a,{className:"font-bold text-3xl text-center",children:[!0===c?_.Metric.Value:_.Imperial.Value,"\xb0 C"]}),Object(x.jsx)("div",{className:"flex justify-center",children:Object(x.jsx)("img",{className:"animate-pulse",src:"https://developer.accuweather.com/sites/default/files/".concat(A,"-s.png")})}),Object(x.jsx)(B.a,{sx:{display:"flex",justifyContent:"center"},children:Object(x.jsx)(P.a,{checked:l,onChange:function(e){O(e.target.checked),s(!c)},color:"default",inputProps:{"aria-label":"controlled"}})})]})}var J=a(213),Q=a(212),Z={name:"Tel Aviv",Key:"215854"},X=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e})),a=t.state,n=a.currentWeatherAndCondition,c=a.daysForecast,s=a.darkMode;return Object(r.useEffect)(Object(j.a)(d.a.mark((function t(){var a,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}return t.abrupt("return",{currentWeatherAndCondition:n,daysForecast:c});case 4:return t.next=6,K(Z);case 6:a=t.sent,r=a.daysForecast,s=a.currentWeather,e(b("SET_CURRENT_CITY_AND_CONDITION",s)),e(b("SET_DAYS_FORECAST",r));case 11:case"end":return t.stop()}}),t)}))),[]),Object(x.jsxs)("div",{className:s?"dark w-full":"light w-full",children:[Object(x.jsx)("header",{className:"text-center sm:text-6xl text-3xl",children:"Weather app"}),Object(x.jsx)(Y,{}),Object(x.jsxs)("div",{className:"grid justify-center mt-10 ",children:[n&&Object(x.jsx)(G,{data:n}),c?Object(x.jsx)(v,{}):Object(x.jsx)(Q.a,{sx:{display:"flex",justifyContent:"center"},children:Object(x.jsx)(J.a,{})})]})]})},$=a(106),ee=a.n($);function te(e){var t=e.data,a=Object(r.useState)(!1),n=Object(g.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(!0),u=Object(g.a)(o,2),l=u[0],O=u[1],v=Object(i.b)(),m=Object(i.c)((function(e){return e})),y=m.state,k=y.favoriteWeathers,T=y.IsFavorite,w=y.darkMode,C=t.currentConditions,E=t.name,N=C.Temperature,_=C.WeatherText,S=C.WeatherIcon,A=function(e){console.log(e);var t=k.filter((function(t){return t.Key!==e.Key}));v(b("REMOVE_FAVORITE_WEATHER",t))},I=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t.Key);case 2:return a=e.sent,e.next=5,M({days:a,name:t.name,key:t.Key});case 5:r=e.sent,v(b("SET_CURRENT_CITY_AND_CONDITION",t)),v(b("SET_DAYS_FORECAST",r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(f.a,{sx:{width:"100%",padding:4,textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:10},style:w?{}:{backgroundColor:"rgba(0, 0, 0, 0.746)",color:"white"},children:[Object(x.jsx)(p.a,{className:"font-bold text-base",title:E,subheader:_}),Object(x.jsx)("div",{className:"mt-2",children:T?Object(x.jsx)(U.a,{onClick:function(){return A(t)},"aria-label":"add to favorites",children:Object(x.jsx)(q.a,{sx:{color:"red"}})}):Object(x.jsx)(U.a,{onClick:function(){return I(t)},"aria-label":"add to favorites",children:Object(x.jsx)(q.a,{})})}),Object(x.jsxs)(h.a,{className:"font-bold text-xl text-center",children:[!0===c?N.Metric.Value:N.Imperial.Value,"\xb0 C"]}),Object(x.jsx)("div",{className:"flex justify-center",children:Object(x.jsx)("img",{className:"animate-pulse",src:"https://developer.accuweather.com/sites/default/files/".concat(S,"-s.png")})}),Object(x.jsxs)(B.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsx)(U.a,{onClick:function(){return A(t)},"aria-label":"delete",size:"large",color:"primary",sx:{"& > p":{fontSize:[2,3,4]},"&:hover":{backgroundColor:"white"}},children:Object(x.jsx)(ee.a,{fontSize:"inherit"})}),Object(x.jsx)(P.a,{checked:l,onChange:function(e){O(e.target.checked),s(!c)},color:"default",inputProps:{"aria-label":"controlled"}})]})]})}var ae=function(){var e=Object(i.c)((function(e){return e})),t=e.state,a=t.darkMode;return Object(x.jsx)("div",{className:a?"dark":"light",children:Object(x.jsxs)("div",{className:"flex-col justify-center mt-20 text-center",children:[Object(x.jsx)("p",{className:"text-5xl mb-10",children:"My Favorite Weather"}),Object(x.jsx)("div",{className:"flex justify-center  text-center",children:t.favoriteWeathers&&t.favoriteWeathers.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(te,{data:e})},e)}))})]})})},re=a(214),ne=a(108),ce=a.n(ne),se=a(206),ie=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e})),a=t.state.darkMode;return Object(x.jsx)("div",{className:a?"navBarDark":"navBar",children:Object(x.jsxs)("div",{className:"flex justify-between",children:[Object(x.jsxs)("div",{className:"flex ml-4",children:[Object(x.jsxs)(o.b,{to:"/",children:[Object(x.jsxs)(re.a,{variant:"extended",size:"medium",children:[Object(x.jsx)(ce.a,{sx:{}}),"home page"]})," "]}),Object(x.jsxs)(o.b,{to:"/favorite",children:[Object(x.jsxs)(re.a,{variant:"extended",size:"medium",children:[Object(x.jsx)(q.a,{sx:{}}),"favorite page"]})," "]})]}),Object(x.jsxs)(re.a,{variant:"extended",sx:{ml:2,mt:1},size:"medium",children:[Object(x.jsx)(se.a,{defaultChecked:!0,color:"default",inputProps:{"aria-label":"checkbox with default color"},onChange:function(t){return e(b("SET_IS_DARK",!a))}}),"dark mode"]})]})})};a(140);var oe=function(){var e=Object(i.c)((function(e){return e})),t=e.state.darkMode;return Object(x.jsxs)("div",{className:"app",children:[Object(x.jsxs)(o.a,{children:[Object(x.jsx)(ie,{}),Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{path:"/favorite",children:Object(x.jsx)(ae,{})}),Object(x.jsx)(u.a,{path:"/",children:Object(x.jsx)(X,{className:t?"dark":"light"})})]})]})," "]})},ue=a(80),le={currentWeatherAndCondition:null,favoriteWeathers:[],daysForecast:null,isFavorite:!1,darkMode:!1};var de=Object(ue.a)({state:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,a=t.payload,r=t.type;switch(r){case"SET_CURRENT_CITY_AND_CONDITION":return Object(m.a)(Object(m.a)({},e),{},{currentWeatherAndCondition:t.payload});case"ADD_TO_FAVORITE_WEATHER":return Object(m.a)(Object(m.a)({},e),{},{favoriteWeathers:[].concat(Object(y.a)(e.favoriteWeathers),[a])});case"SET_IS_FAVORITE":return Object(m.a)(Object(m.a)({},e),{},{isFavorite:a});case"SET_IS_DARK":return Object(m.a)(Object(m.a)({},e),{},{darkMode:a});case"SET_IS_METRIC":return Object(m.a)(Object(m.a)({},e),{},{isMetric:a});case"REMOVE_FAVORITE_WEATHER":return Object(m.a)(Object(m.a)({},e),{},{favoriteWeathers:t.payload});case"SET_DAYS_FORECAST":return Object(m.a)(Object(m.a)({},e),{},{daysForecast:t.payload});default:return e}}}),je=Object(ue.b)(de);a(141);s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(i.a,{store:je,children:Object(x.jsx)(oe,{})})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.47d7c72a.chunk.js.map